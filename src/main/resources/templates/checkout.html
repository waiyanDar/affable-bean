<!DOCTYPE html>
<html th:replace="layout/mainLayout :: layout(~{::main})" xmlns:th="http://www.thymeleaf.org">
<body>
<main role="main">
    <div class="container">
        <div class="row">
            <div class="col">
                <h3 class="font-weight-bold">checkout</h3>
                <br>
                <p>In order to purchase items in your shopping cart, please provide us with the following
                    information:</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-7 mt-5 body">
                <br>
                <form  th:object="${user}"  th:action="@{/add-info}"method="post">
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body ">name :</span>
                        <input type="text" class="form-control csIn"
                               th:classappend="${#fields.hasErrors('name')} ? 'is-invalid'" th:field="*{name}">
                        <small th:if="${#fields.hasErrors('name')}" class="invalid-feedback" th:errors="*{name}"></small>
                    </div>
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body">email :</span>
                        <input type="text" class="form-control csIn"
                               th:classappend="${#fields.hasErrors('email')} ? 'is-invalid'" th:field="*{email}">
                        <small th:if="${#fields.hasErrors('email')}" class="invalid-feedback" th:field="*{email}"></small>
                    </div>
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body">phone :</span>
                        <input type="text" class="form-control csIn"
                               th:classappend="${#fields.hasErrors('phone')} ? 'is-invalid'" th:field="*{phone}">
                        <small th:if="${#fields.hasErrors('phone')}" class="invalid-feedback" th:field="*{phone}"></small>
                    </div>
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body">address:</span>
                        <input type="text" class="form-control csIn"
                               th:classappend="${#fields.hasErrors('address')} ? 'is-invalid'" th:field="*{address}">
                        <small th:if="${#fields.hasErrors('address')}" class="invalid-feedback" th:field="*{address}"></small>
                    </div>
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body">prague :</span>
                        <input type="number" class="form-control" min="1"  style="max-width: 50px"
                               th:classappend="${#fields.hasErrors('prague')} ? 'is-invalid'" th:field="*{prague}">
                        <small th:if="${#fields.hasErrors('prague')}" class="invalid-feedback" th:field="*{prague}"></small>
                    </div>
                    <div class="form-group input-group-prepend">
                        <span class="input-group-text body">credit card number :</span>
                        <input type="text" class="form-control csIn"
                               th:classappend="${#fields.hasErrors('cardNumber')} ? 'is-invalid'" th:field="*{cardNumber}">
                        <small th:if="${#fields.hasErrors('cardNumber')}" class="invalid-feedback" th:field="*{cardNumber}"></small>
                    </div>
                    <div class="csBtn" style="margin-left: 500px;">
                        <input type="submit" class="btn" value="submit purchase">
                    </div>
                    <br>
                </form>
            </div>
            <div class="col-md-4 ml-auto mt-3">
                <br>
                <ul>
                    <li><h4 class="lead mt-5">Next-day delivery is guaranteed</h4></li>
                    <li><h4 class="lead mt-1">5% of subTotal is
                        applied as delivery surcharge to all purchase orders</h4></li>
                </ul>
                <br>
                <div class="csDiv">
                    <br>
                    <p style="margin-left:200px;"><b>subtotal : </b>€
                        <span th:text="${#numbers.formatDecimal(subTotal,0,2)}"></span>
                    </p>
                    <p style="margin-left: 120px;"><b>delivery surcharge : </b>€
                        <span th:if="${deliCharge < 10 && subTotal >9}" style="margin-left: 20px;" th:text="${#numbers.formatDecimal(deliCharge,0,2)}"></span>
                        <span th:if="${deliCharge < 10 && subTotal <10}" style="margin-left: 13px;" th:text="${#numbers.formatDecimal(deliCharge,0,2)}"></span>
                        <span th:if="${deliCharge >=10}" style="margin-left: auto;" th:text="${#numbers.formatDecimal(deliCharge,0,2)}"></span>
                    </p>
                    <hr>
                    <p style="margin-left: 225px;"><b>total : </b>€ <span
                            th:text="${#numbers.formatDecimal(total,0,2)}"></span></p>
                    <br>
                </div>
            </div>
        </div>
    </div>

</main>
</body>
</html>